import{_,r as a,o as y,d as w,c as k,a as t,b as i,V as c,t as g,w as p,v as h}from"./index-a94dd109.js";import{N as v}from"./NumberPad-051a9f68.js";import{E as b}from"./ExpenseType-352dc5ce.js";import{T as A}from"./TransactionList-38e77434.js";import{A as u}from"./tenant.service-713d1294.js";import{L as E}from"./Ladda-360f0fa2.js";const L={props:["selfValue"],components:{NumberPad:v},data(){return{keyAmount:"",keys:[...Array(10).keys()],keyTheme:"btn-keyboard",buttonTheme:"btn-danger"}},methods:{press(s){this.keyAmount=`${this.keyAmount}${s}`},clear(s){s==="all"?this.keyAmount="":this.keyAmount=this.keyAmount.substring(0,this.keyAmount.length-1)}},watch:{keyAmount(){this.$emit("pressed",this.$filters.formatNumber(this.keyAmount))},selfValue(){this.keyAmount=this.selfValue}},created(){}};function T(s,e,r,l,n,d){const m=a("number-pad");return y(),w(m)}const V=_(L,[["render",T],["__scopeId","data-v-464f0130"]]),C={name:"ExpensePage",components:{Keyboard:V,ExpenseType:b,TransactionList:A,Ladda:E},data(){return{amount:null,keyAmount:"",expenseType:"",memo:"",loading:!1,walletId:parseInt(localStorage.getItem("walletId")),indexId:0,wallet:{},walletListId:[]}},mounted(){this.getWallets()},methods:{async saveExpense(){if(this.loading=!0,this.amount=this.keyAmount.replaceAll(",",""),this.expenseCategoryId==null||this.expenseCategoryId=="")alert("PLEASE SELECT INCOME TYPE");else if(this.amount>0&&this.amount!=""){let s={memo:this.memo,expense_category_id:this.expenseCategoryId,amount:parseFloat(this.amount),user_id:parseInt(localStorage.getItem("balanceUserId")),wallet_id:this.walletId};await u.Expense.add(s),this.keyAmount="",this.memo="",this.loading=!1}this.$refs.transactionList.fetchData()},async getWallets(){let s=await u.Wallet.getWallets();if(s.status==200){this.walletList=s.data;let e=[];this.wallet=s.data.find(l=>l.id==this.walletId),s.data.forEach(function(l){e.push({id:l.id,title:l.title})}),this.walletListId=e;let r=this;this.indexId=this.walletListId.findIndex(l=>l.id==r.walletId)}},async preWallet(){this.indexId-=1,this.wallet=this.walletListId[this.indexId]},async nextWallet(){this.indexId+=1,this.wallet=this.walletListId[this.indexId]}}},W={class:"m-05em mx-2 h-107"},B={class:"p-2 border-radius pink"},N={class:"row"},P={class:"col-2"},S={class:"col-8 text-center"},K={class:"col-2"},M={class:"p-2"},$={class:"row"},D={class:"col-6 pr-0"},U={class:"col-6"},O={class:"row"};function F(s,e,r,l,n,d){const m=a("ExpenseType"),f=a("Keyboard"),x=a("ladda"),I=a("TransactionList");return y(),k("div",W,[t("div",B,[t("div",N,[t("div",P,[i(c,{icon:"mdi-chevron-left-circle",height:"40",variant:"text",width:"40",onClick:e[0]||(e[0]=o=>d.preWallet()),disabled:n.indexId==0},null,8,["disabled"])]),t("div",S,[t("h1",null,g(n.wallet.title),1)]),t("div",K,[i(c,{icon:"mdi-chevron-right-circle",height:"40",variant:"text",width:"40",onClick:e[1]||(e[1]=o=>d.nextWallet()),disabled:n.indexId==n.walletListId.length-1},null,8,["disabled"])])]),i(m),t("div",M,[t("div",$,[t("div",D,[p(t("input",{type:"text",class:"form-control m-1","onUpdate:modelValue":e[2]||(e[2]=o=>n.keyAmount=o),id:"txtBox",placeholder:"Press any button",readonly:""},null,512),[[h,n.keyAmount]])]),t("div",U,[p(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=o=>n.memo=o),class:"form-control m-1",placeholder:"Enter MEMO"},null,512),[[h,n.memo]])])]),i(f,{class:"m-1",onPressed:e[4]||(e[4]=o=>n.keyAmount=o),selfValue:n.keyAmount},null,8,["selfValue"]),i(x,{text:"Save",loading:n.loading,"btn-class":"btn btn-primary w-100",onClick:e[5]||(e[5]=o=>d.saveExpense())},null,8,["loading"])])]),t("div",O,[i(I,{ref:"transactionList"},null,512)])])}const J=_(C,[["render",F]]);export{J as default};
