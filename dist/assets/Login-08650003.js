import{A as d}from"./tenant.service-713d1294.js";import{L as c}from"./Ladda-360f0fa2.js";import{_ as m,r as p,o as g,c as u,a as t,w as l,v as r,b as w}from"./index-a94dd109.js";const _={components:{Ladda:c},data(){return{email:"",password:"",loading:!1}},beforeCreate(){localStorage.getItem("balanceUserId")!=null&&(window.location.href="/")},methods:{async login(){if(this.loading=!0,!(!this.email||!this.password)){let s={email:this.email,password:btoa(this.password)};try{await d.Authorization.login(s).then(async e=>{localStorage.setItem("balanceUserId",e.data.id),localStorage.setItem("walletId",e.data.default_wallet_id),localStorage.setItem("image_url",e.data.image_url),localStorage.setItem("name",e.data.full_name),window.location.href="/"}).catch(e=>{console.log("log:",e)})}catch(e){console.log("log:error.response",e.response)}this.loading=!1}}}},f={class:"p-4"},h=t("h2",{class:"mb-3 text-white"},"Login",-1),b={class:"mb-3 text-white"},I=t("label",{for:"email"},"Email:",-1),v={class:"mb-3 text-white"},x=t("label",{for:"password"},"Password:",-1),y=t("a",{href:"/register"},[t("button",{type:"button",class:"btn btn-success w-100 mt-3"},"Registers")],-1);function U(s,e,L,S,o,i){const n=p("ladda");return g(),u("div",f,[h,t("form",null,[t("div",b,[I,l(t("input",{class:"form-control","onUpdate:modelValue":e[0]||(e[0]=a=>o.email=a),type:"email",id:"email",required:""},null,512),[[r,o.email]])]),t("div",v,[x,l(t("input",{class:"form-control","onUpdate:modelValue":e[1]||(e[1]=a=>o.password=a),type:"password",id:"password",required:""},null,512),[[r,o.password]])]),w(n,{text:"Login",loading:o.loading,"btn-class":"btn btn-primary w-100",onClick:e[2]||(e[2]=a=>i.login())},null,8,["loading"]),y])])}const B=m(_,[["render",U]]);export{B as default};
